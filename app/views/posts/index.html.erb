<section class="container">
    <%= render partial: 'shared/user', locals: { user: @user } %>
    <% @posts.each do |post| %>  
        <div class="row mt-4">
            <div class="col-lg-12 border border-dark">
                <h4 class="pt-2"><%= link_to post.title, user_post_path(@user, post), class: "text-dark" %></h4>
                <p class="mt-2"><%= truncate(post.text, length: 200, omission: '...') %></p>
                <p class="d-flex justify-content-end">
                   <%= render partial: 'shared/like', locals: { user: @user, post: post } %>
                </p>
                <p class="d-flex justify-content-end"><%= link_to "Add Comment", new_user_post_comment_path(@user, post), class:"text-dark" %>, Comments <%= post.comments_counter %>, Likes <%= post.likes_counter%></p>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-12 border border-dark">
                <% post.recent_comments.each do |comment| %>
                    <p class=""><%= comment.author.name %>: <%= comment.text %> </p>
                <% end %>

            </div>
        </div>
    <% end %>
</section>